{"ast":null,"code":"import { produce } from 'immer';\nimport { getDatabase, ref, set } from \"firebase/database\";\nimport { ADD_ITEM, TOGGLE_ITEM_STATUS, DELETE_ITEM, DELETE_COMPLETED, TOGGLE_ALL, UPDATE_ITEM, SELECT_ITEM, FETCH_DATA, SELECT_STATUS } from '../redux/actions';\n// let index = 0;\n\nconst initialState = {\n  items: []\n};\nconst listReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DATA:\n      return produce(state, draft => {\n        draft.items = action.payload;\n      });\n    case ADD_ITEM:\n      return produce(state, draft => {\n        draft.items.push(action.payload);\n      });\n    case TOGGLE_ITEM_STATUS:\n      return produce(state, draft => {\n        const item = draft.items.find(item => item.itemId === action.payload);\n        if (item) {\n          item.completed = !item.completed;\n        }\n      });\n    case DELETE_ITEM:\n      return produce(state, draft => {\n        draft.items = draft.items.filter(item => item.itemId !== action.payload);\n      });\n    case DELETE_COMPLETED:\n      return produce(state, draft => {\n        draft.items = draft.items.filter(item => !item.completed);\n      });\n    case TOGGLE_ALL:\n      return produce(state, draft => {\n        const allCompleted = draft.items.every(item => item.completed);\n        draft.items.forEach(item => {\n          item.completed = !allCompleted;\n        });\n      });\n    case UPDATE_ITEM:\n      return produce(state, draft => {\n        const {\n          itemId,\n          content\n        } = action.payload;\n        const item = draft.items.find(item => item.itemId === itemId);\n        if (item) {\n          item.content = content;\n        }\n      });\n    case SELECT_ITEM:\n      return produce(state, draft => {\n        draft.items.find(item => item.itemId === action.payload);\n      });\n    case SELECT_STATUS:\n      return produce(state, draft => {\n        if (action.payload === true) {\n          draft.items = draft.items.filter(item => item.completed === true);\n        } else {\n          draft.items = draft.items.filter(item => item.completed === false);\n        }\n      });\n    default:\n      return state;\n  }\n};\nexport default listReducer;","map":{"version":3,"names":["produce","getDatabase","ref","set","ADD_ITEM","TOGGLE_ITEM_STATUS","DELETE_ITEM","DELETE_COMPLETED","TOGGLE_ALL","UPDATE_ITEM","SELECT_ITEM","FETCH_DATA","SELECT_STATUS","initialState","items","listReducer","state","action","type","draft","payload","push","item","find","itemId","completed","filter","allCompleted","every","forEach","content"],"sources":["D:/WORKSPACE/React/projectw3/src/Components/reducer/listTodo.js"],"sourcesContent":["import { produce } from 'immer';\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\nimport { ADD_ITEM, TOGGLE_ITEM_STATUS, DELETE_ITEM, DELETE_COMPLETED, TOGGLE_ALL, UPDATE_ITEM, SELECT_ITEM, FETCH_DATA , SELECT_STATUS } from '../redux/actions';\r\n// let index = 0;\r\n\r\nconst initialState = {\r\n  items: [\r\n  ],\r\n};\r\n\r\nconst listReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_DATA:\r\n      return produce(state, (draft) => {\r\n        draft.items = action.payload;\r\n      });\r\n    case ADD_ITEM:\r\n      return produce(state, (draft) => {\r\n        draft.items.push(action.payload);\r\n      });\r\n\r\n    case TOGGLE_ITEM_STATUS:\r\n      return produce(state, (draft) => {\r\n        const item = draft.items.find(item => item.itemId === action.payload);\r\n        if (item) {\r\n          item.completed = !item.completed;\r\n        }\r\n      });\r\n\r\n    case DELETE_ITEM:\r\n      return produce(state, (draft) => {\r\n        draft.items = draft.items.filter(item => item.itemId !== action.payload);\r\n      });\r\n\r\n    case DELETE_COMPLETED:\r\n      return produce(state, (draft) => {\r\n        draft.items = draft.items.filter(item => !item.completed);\r\n      });\r\n\r\n    case TOGGLE_ALL:\r\n      return produce(state, (draft) => {\r\n        const allCompleted = draft.items.every(item => item.completed);\r\n        draft.items.forEach(item => {\r\n          item.completed = !allCompleted;\r\n        });\r\n      });\r\n\r\n    case UPDATE_ITEM:\r\n      return produce(state, (draft) => {\r\n        const { itemId, content } = action.payload;\r\n        const item = draft.items.find(item => item.itemId === itemId);\r\n        if (item) {\r\n          item.content = content;\r\n        }\r\n      });\r\n    case SELECT_ITEM:\r\n      return produce(state, (draft) => {\r\n        draft.items.find(item => item.itemId === action.payload);\r\n      });\r\n    case SELECT_STATUS:\r\n      return produce(state, (draft) => {\r\n        if(action.payload === true) {\r\n          draft.items = draft.items.filter(item => item.completed === true); \r\n        }else{\r\n          draft.items = draft.items.filter(item => item.completed === false); \r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default listReducer;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}