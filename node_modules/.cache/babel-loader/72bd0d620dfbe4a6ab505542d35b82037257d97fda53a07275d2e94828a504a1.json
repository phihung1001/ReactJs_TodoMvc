{"ast":null,"code":"var _jsxFileName = \"D:\\\\WORKSPACE\\\\React\\\\projectw3\\\\src\\\\Components\\\\Hoc\\\\ScrollHoc.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScrollFunc = WrappedComponent => {\n  var _s = $RefreshSig$();\n  const recordsPerPage = 5;\n  const ScrollHOC = props => {\n    _s();\n    const {\n      todoList,\n      updateLoading\n    } = props;\n    const [currentPage, setCurrentPage] = useState(1);\n    const refOfComponent = useRef(null);\n    useEffect(() => {\n      const handleScrollToEnd = () => {\n        const lastIndex = currentPage * recordsPerPage;\n        const {\n          scrollTop,\n          scrollHeight,\n          clientHeight\n        } = refOfComponent.current;\n        if (scrollTop >= scrollHeight - clientHeight && lastIndex < todoList.length) {\n          updateLoading(true);\n          setTimeout(() => {\n            setCurrentPage(prevPage => prevPage + 1);\n            updateLoading(false);\n          }, 1000);\n        }\n      };\n      refOfComponent.current.addEventListener('scroll', handleScrollToEnd);\n      return () => {\n        refOfComponent.current.removeEventListener('scroll', handleScrollToEnd);\n      };\n    }, [todoList, currentPage, updateLoading]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: refOfComponent,\n      children: /*#__PURE__*/_jsxDEV(WrappedComponent, {\n        ...props,\n        recordsPerPage: recordsPerPage,\n        currentPage: currentPage,\n        refOfComponent: refOfComponent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this);\n  };\n  _s(ScrollHOC, \"IifXOrDBO4VHO3thILg41+Xg11g=\");\n  return ScrollHOC;\n};\n_c = ScrollFunc;\nexport default ScrollFunc;\nvar _c;\n$RefreshReg$(_c, \"ScrollFunc\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","ScrollFunc","WrappedComponent","_s","$RefreshSig$","recordsPerPage","ScrollHOC","props","todoList","updateLoading","currentPage","setCurrentPage","refOfComponent","handleScrollToEnd","lastIndex","scrollTop","scrollHeight","clientHeight","current","length","setTimeout","prevPage","addEventListener","removeEventListener","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/WORKSPACE/React/projectw3/src/Components/Hoc/ScrollHoc.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst ScrollFunc = (WrappedComponent) => {\r\n    const recordsPerPage = 5;\r\n    const ScrollHOC = (props) => {\r\n        const { todoList , updateLoading } = props;\r\n        const [currentPage, setCurrentPage] = useState(1);\r\n        const refOfComponent = useRef(null);\r\n\r\n        useEffect(() => {\r\n            const handleScrollToEnd = () => {\r\n                const lastIndex = currentPage * recordsPerPage;\r\n                const { scrollTop, scrollHeight, clientHeight } = refOfComponent.current;\r\n                if (scrollTop >= scrollHeight - clientHeight && lastIndex < todoList.length) {\r\n                    updateLoading(true);\r\n                    setTimeout(() => {\r\n                        setCurrentPage(prevPage => prevPage + 1);\r\n                        updateLoading(false);\r\n                    }, 1000);\r\n                }\r\n            };\r\n            refOfComponent.current.addEventListener('scroll', handleScrollToEnd);\r\n            return () => {\r\n                refOfComponent.current.removeEventListener('scroll', handleScrollToEnd);\r\n            };\r\n        }, [todoList, currentPage, updateLoading]);\r\n\r\n        return (\r\n            <div ref={refOfComponent}\r\n            >\r\n                <WrappedComponent \r\n                    {...props}\r\n                    recordsPerPage={recordsPerPage}\r\n                    currentPage={currentPage}\r\n                    refOfComponent={refOfComponent} \r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return ScrollHOC;\r\n};\r\n\r\nexport default ScrollFunc;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,UAAU,GAAIC,gBAAgB,IAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACrC,MAAMC,cAAc,GAAG,CAAC;EACxB,MAAMC,SAAS,GAAIC,KAAK,IAAK;IAAAJ,EAAA;IACzB,MAAM;MAAEK,QAAQ;MAAGC;IAAc,CAAC,GAAGF,KAAK;IAC1C,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;IACjD,MAAMc,cAAc,GAAGf,MAAM,CAAC,IAAI,CAAC;IAEnCD,SAAS,CAAC,MAAM;MACZ,MAAMiB,iBAAiB,GAAGA,CAAA,KAAM;QAC5B,MAAMC,SAAS,GAAGJ,WAAW,GAAGL,cAAc;QAC9C,MAAM;UAAEU,SAAS;UAAEC,YAAY;UAAEC;QAAa,CAAC,GAAGL,cAAc,CAACM,OAAO;QACxE,IAAIH,SAAS,IAAIC,YAAY,GAAGC,YAAY,IAAIH,SAAS,GAAGN,QAAQ,CAACW,MAAM,EAAE;UACzEV,aAAa,CAAC,IAAI,CAAC;UACnBW,UAAU,CAAC,MAAM;YACbT,cAAc,CAACU,QAAQ,IAAIA,QAAQ,GAAG,CAAC,CAAC;YACxCZ,aAAa,CAAC,KAAK,CAAC;UACxB,CAAC,EAAE,IAAI,CAAC;QACZ;MACJ,CAAC;MACDG,cAAc,CAACM,OAAO,CAACI,gBAAgB,CAAC,QAAQ,EAAET,iBAAiB,CAAC;MACpE,OAAO,MAAM;QACTD,cAAc,CAACM,OAAO,CAACK,mBAAmB,CAAC,QAAQ,EAAEV,iBAAiB,CAAC;MAC3E,CAAC;IACL,CAAC,EAAE,CAACL,QAAQ,EAAEE,WAAW,EAAED,aAAa,CAAC,CAAC;IAE1C,oBACIT,OAAA;MAAKwB,GAAG,EAAEZ,cAAe;MAAAa,QAAA,eAErBzB,OAAA,CAACE,gBAAgB;QAAA,GACTK,KAAK;QACTF,cAAc,EAAEA,cAAe;QAC/BK,WAAW,EAAEA,WAAY;QACzBE,cAAc,EAAEA;MAAe;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAEd,CAAC;EAAC1B,EAAA,CAlCIG,SAAS;EAoCf,OAAOA,SAAS;AACpB,CAAC;AAACwB,EAAA,GAvCI7B,UAAU;AAyChB,eAAeA,UAAU;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}