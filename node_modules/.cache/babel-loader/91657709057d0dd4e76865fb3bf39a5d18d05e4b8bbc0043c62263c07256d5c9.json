{"ast":null,"code":"var _jsxFileName = \"D:\\\\WORKSPACE\\\\React\\\\projectw3\\\\src\\\\Components\\\\content\\\\TodoList.jsx\",\n  _s = $RefreshSig$();\nimport './TodoList.css';\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { ThemeContext } from '../../Context/Theme-Provider';\nimport Todo from '../todo/Todo';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = ({\n  todoList,\n  isCheckAll,\n  checkAllTodo,\n  getTodoEditId,\n  onEditTodo,\n  markCompleted,\n  removeTodo,\n  scrollRef,\n  onScroll\n}) => {\n  _s();\n  const recordsPerPage = 5;\n  const [currentPage, setCurrentPage] = useState(1);\n  const lastIndex = currentPage * recordsPerPage;\n  const newList = todoList.slice(0, lastIndex);\n  const {\n    theme\n  } = useContext(ThemeContext);\n\n  // useEffect(() => {\n  //   console.log('todo',newList);\n  // });\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  const handleScroll = () => {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      setTimeout(() => {\n        setCurrentPage(currentPage + 1);\n      }, 1000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"main\",\n    ref: scrollRef,\n    onScroll: onScroll,\n    style: {\n      backgroundColor: theme.background,\n      color: theme.foreground\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"toggle-all\",\n      type: \"checkbox\",\n      checked: isCheckAll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"toggle-all\",\n      onClick: checkAllTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"todo-list\",\n      children: newList.map(todo => /*#__PURE__*/_jsxDEV(Todo, {\n        theme: theme,\n        todo: todo,\n        getTodoEditId: getTodoEditId,\n        onEditTodo: onEditTodo,\n        markCompleted: markCompleted,\n        removeTodo: removeTodo\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 10\n  }, this);\n};\n_s(TodoList, \"ELuhHEoG9tL6i90sCyIqHdIOHSM=\");\n_c = TodoList;\nconst mapStateToProps = state => {\n  return {\n    todoList: state.todos.todoList\n  };\n};\nexport default connect(mapStateToProps)(TodoList);\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","useContext","ThemeContext","Todo","connect","jsxDEV","_jsxDEV","TodoList","todoList","isCheckAll","checkAllTodo","getTodoEditId","onEditTodo","markCompleted","removeTodo","scrollRef","onScroll","_s","recordsPerPage","currentPage","setCurrentPage","lastIndex","newList","slice","theme","window","addEventListener","handleScroll","removeEventListener","innerHeight","scrollY","document","body","offsetHeight","setTimeout","className","ref","style","backgroundColor","background","color","foreground","children","type","checked","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onClick","class","map","todo","id","_c","mapStateToProps","state","todos","$RefreshReg$"],"sources":["D:/WORKSPACE/React/projectw3/src/Components/content/TodoList.jsx"],"sourcesContent":["import './TodoList.css';\nimport React, { useState,useEffect,useContext } from \"react\";\nimport { ThemeContext  } from '../../Context/Theme-Provider';\nimport Todo from '../todo/Todo';\nimport { connect } from 'react-redux';\n\nconst TodoList = ({ todoList, isCheckAll, checkAllTodo, getTodoEditId, onEditTodo, markCompleted,removeTodo, scrollRef, onScroll }) => {\n  const recordsPerPage =5;\n  const [currentPage, setCurrentPage ] = useState(1);\n  const lastIndex = currentPage * recordsPerPage\n  const newList = todoList.slice(0, lastIndex);\n  const { theme } = useContext(ThemeContext);\n\n \n\n  // useEffect(() => {\n  //   console.log('todo',newList);\n  // });\n  \n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    \n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  const handleScroll = () => {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      setTimeout(() => {\n        setCurrentPage(currentPage+ 1);\n      }, 1000);\n    }\n  };\n\n    return (\n         <section className='main'  ref={scrollRef}  onScroll={onScroll} style={{ backgroundColor: theme.background, color: theme.foreground }}>\n          \n            <input className='toggle-all' type='checkbox' checked={isCheckAll}/>\n            <label htmlFor=\"toggle-all\" onClick={checkAllTodo}></label>\n            <ul class=\"todo-list\">\n                { \n                  newList.map((todo) =>  \n                    <Todo                 \n                      theme={theme}\n                      key={todo.id} \n                      todo={todo} \n                      getTodoEditId={getTodoEditId}\n                      onEditTodo={onEditTodo}\n                      markCompleted={markCompleted}\n                      removeTodo={removeTodo}\n                    />\n                  \n                  )\n                }\n            </ul>\n         </section>\n  )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      todoList: state.todos.todoList\n    }\n}\nexport default connect(mapStateToProps)(TodoList);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}